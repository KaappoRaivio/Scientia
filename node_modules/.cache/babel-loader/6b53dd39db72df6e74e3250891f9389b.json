{"ast":null,"code":"class Interpolator {\n  constructor() {\n    this.previousData = 0;\n    this.currentData = 0;\n    this.dataPoints = [[new Date().getTime(), 0]];\n  }\n\n  addDataPoint(data) {\n    // console.log(this.dataPoints)\n    console.log(this.dataPoints);\n    this.dataPoints.push([new Date().getTime(), data]);\n\n    while (this.dataPoints.length > 20) {\n      this.dataPoints.shift();\n    }\n  }\n\n  interpolate(timeStamp) {\n    let latest = this.dataPoints[this.dataPoints.length - 1][0];\n    let diff = timeStamp - timeStamp;\n    let averageDiff = this.getAverageDeltaTime();\n  }\n\n  getAverageDeltaTime() {\n    let previous = this.dataPoints[0][0];\n    let diffs = [];\n\n    for (let i = 1; i < this.dataPoints.length; i++) {\n      let current = this.dataPoints[i][0];\n      let diff = current - previous;\n      diffs.push(diff);\n      previous = current;\n    }\n\n    return diffs.reduce((a, b) => a + b, 0) / diffs.length;\n  }\n\n}\n\nexport default Interpolator;","map":{"version":3,"sources":["/home/kaappo/git/kments/src/components/misc/interpolate.js"],"names":["Interpolator","constructor","previousData","currentData","dataPoints","Date","getTime","addDataPoint","data","console","log","push","length","shift","interpolate","timeStamp","latest","diff","averageDiff","getAverageDeltaTime","previous","diffs","i","current","reduce","a","b"],"mappings":"AAAA,MAAMA,YAAN,CAAmB;AACfC,EAAAA,WAAW,GAAI;AACX,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AAGA,SAAKC,UAAL,GAAkB,CAAC,CAAC,IAAIC,IAAJ,GAAWC,OAAX,EAAD,EAAuB,CAAvB,CAAD,CAAlB;AACH;;AAEDC,EAAAA,YAAY,CAAEC,IAAF,EAAQ;AAChB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,UAAjB;AACA,SAAKA,UAAL,CAAgBO,IAAhB,CAAqB,CAAC,IAAIN,IAAJ,GAAWC,OAAX,EAAD,EAAuBE,IAAvB,CAArB;;AACA,WAAO,KAAKJ,UAAL,CAAgBQ,MAAhB,GAAyB,EAAhC,EAAoC;AAChC,WAAKR,UAAL,CAAgBS,KAAhB;AACH;AAEJ;;AAEDC,EAAAA,WAAW,CAAEC,SAAF,EAAa;AACpB,QAAIC,MAAM,GAAG,KAAKZ,UAAL,CAAgB,KAAKA,UAAL,CAAgBQ,MAAhB,GAAyB,CAAzC,EAA4C,CAA5C,CAAb;AACA,QAAIK,IAAI,GAAGF,SAAS,GAAGA,SAAvB;AAEA,QAAIG,WAAW,GAAG,KAAKC,mBAAL,EAAlB;AAGH;;AAEDA,EAAAA,mBAAmB,GAAI;AACnB,QAAIC,QAAQ,GAAG,KAAKhB,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,CAAf;AACA,QAAIiB,KAAK,GAAG,EAAZ;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,UAAL,CAAgBQ,MAApC,EAA4CU,CAAC,EAA7C,EAAiD;AAC7C,UAAIC,OAAO,GAAG,KAAKnB,UAAL,CAAgBkB,CAAhB,EAAmB,CAAnB,CAAd;AAEA,UAAIL,IAAI,GAAGM,OAAO,GAAGH,QAArB;AACAC,MAAAA,KAAK,CAACV,IAAN,CAAWM,IAAX;AAEAG,MAAAA,QAAQ,GAAGG,OAAX;AACH;;AAED,WAAOF,KAAK,CAACG,MAAN,CAAa,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA3B,EAA8B,CAA9B,IAAmCL,KAAK,CAACT,MAAhD;AACH;;AA1Cc;;AA6CnB,eAAeZ,YAAf","sourcesContent":["class Interpolator {\n    constructor () {\n        this.previousData = 0;\n        this.currentData = 0;\n\n\n        this.dataPoints = [[new Date().getTime(), 0]];\n    }\n\n    addDataPoint (data) {\n        // console.log(this.dataPoints)\n        console.log(this.dataPoints)\n        this.dataPoints.push([new Date().getTime(), data]);\n        while (this.dataPoints.length > 20) {\n            this.dataPoints.shift();\n        }\n        \n    }\n\n    interpolate (timeStamp) {\n        let latest = this.dataPoints[this.dataPoints.length - 1][0];\n        let diff = timeStamp - timeStamp;\n\n        let averageDiff = this.getAverageDeltaTime();\n\n        \n    }\n\n    getAverageDeltaTime () {\n        let previous = this.dataPoints[0][0];\n        let diffs = [];\n\n        for (let i = 1; i < this.dataPoints.length; i++) {\n            let current = this.dataPoints[i][0];\n            \n            let diff = current - previous;\n            diffs.push(diff);\n\n            previous = current;\n        }\n\n        return diffs.reduce((a, b) => a + b, 0) / diffs.length;\n    }\n}\n\nexport default Interpolator;"]},"metadata":{},"sourceType":"module"}