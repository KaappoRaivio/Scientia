{"ast":null,"code":"var cache = {\n  '1': bezier1,\n  '2': bezier2,\n  '3': bezier3,\n  '4': bezier4\n};\nmodule.exports = neat;\nmodule.exports.prepare = prepare;\n\nfunction neat(arr, t) {\n  return prepare(arr.length)(arr, t);\n}\n\nfunction prepare(pieces) {\n  pieces = +pieces | 0;\n  if (!pieces) throw new Error('Cannot create a interpolator with no elements');\n  if (cache[pieces]) return cache[pieces];\n  var fn = ['var ut = 1 - t', ''];\n  var n = pieces;\n\n  while (n--) {\n    for (var j = 0; j < n; j += 1) {\n      if (n + 1 === pieces) {\n        fn.push('var p' + j + ' = arr[' + j + '] * ut + arr[' + (j + 1) + '] * t');\n      } else if (n > 1) {\n        fn.push('p' + j + ' = p' + j + ' * ut + p' + (j + 1) + ' * t');\n      } else {\n        fn.push('return p' + j + ' * ut + p' + (j + 1) + ' * t');\n      }\n    }\n\n    if (n > 1) fn.push('');\n  }\n\n  fn = ['return function bezier' + pieces + '(arr, t) {', fn.map(function (s) {\n    return '  ' + s;\n  }).join('\\n'), '}'].join('\\n');\n  return Function(fn)();\n} //\n// Including the first four degrees\n// manually - there's a slight performance penalty\n// to generated code. It's outweighed by\n// the gains of the optimisations, but always\n// helps to cover the most common cases :)\n//\n\n\nfunction bezier1(arr) {\n  return arr[0];\n}\n\nfunction bezier2(arr, t) {\n  return arr[0] + (arr[1] - arr[0]) * t;\n}\n\nfunction bezier3(arr, t) {\n  var ut = 1 - t;\n  return (arr[0] * ut + arr[1] * t) * ut + (arr[1] * ut + arr[2] * t) * t;\n}\n\nfunction bezier4(arr, t) {\n  var ut = 1 - t;\n  var a1 = arr[1] * ut + arr[2] * t;\n  return ((arr[0] * ut + arr[1] * t) * ut + a1 * t) * ut + (a1 * ut + (arr[2] * ut + arr[3] * t) * t) * t;\n}","map":{"version":3,"sources":["/home/kaappo/git/kments/node_modules/bezier/index.js"],"names":["cache","bezier1","bezier2","bezier3","bezier4","module","exports","neat","prepare","arr","t","length","pieces","Error","fn","n","j","push","map","s","join","Function","ut","a1"],"mappings":"AAAA,IAAIA,KAAK,GAAG;AACR,OAAKC,OADG;AAER,OAAKC,OAFG;AAGR,OAAKC,OAHG;AAIR,OAAKC;AAJG,CAAZ;AAOAC,MAAM,CAACC,OAAP,GAAiBC,IAAjB;AACAF,MAAM,CAACC,OAAP,CAAeE,OAAf,GAAyBA,OAAzB;;AAEA,SAASD,IAAT,CAAcE,GAAd,EAAmBC,CAAnB,EAAsB;AACpB,SAAOF,OAAO,CAACC,GAAG,CAACE,MAAL,CAAP,CAAoBF,GAApB,EAAyBC,CAAzB,CAAP;AACD;;AAED,SAASF,OAAT,CAAiBI,MAAjB,EAAyB;AACvBA,EAAAA,MAAM,GAAG,CAACA,MAAD,GAAQ,CAAjB;AACA,MAAI,CAACA,MAAL,EAAa,MAAM,IAAIC,KAAJ,CAAU,+CAAV,CAAN;AACb,MAAIb,KAAK,CAACY,MAAD,CAAT,EAAmB,OAAOZ,KAAK,CAACY,MAAD,CAAZ;AAEnB,MAAIE,EAAE,GAAG,CAAC,gBAAD,EAAmB,EAAnB,CAAT;AAEA,MAAIC,CAAC,GAAGH,MAAR;;AACA,SAAOG,CAAC,EAAR,EAAY;AACV,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAApB,EAAuBC,CAAC,IAAI,CAA5B,EAA+B;AAC7B,UAAID,CAAC,GAAC,CAAF,KAAQH,MAAZ,EAAoB;AAClBE,QAAAA,EAAE,CAACG,IAAH,CAAQ,UAAQD,CAAR,GAAU,SAAV,GAAoBA,CAApB,GAAsB,eAAtB,IAAuCA,CAAC,GAAC,CAAzC,IAA4C,OAApD;AACD,OAFD,MAGA,IAAID,CAAC,GAAG,CAAR,EAAW;AACTD,QAAAA,EAAE,CAACG,IAAH,CAAQ,MAAID,CAAJ,GAAM,MAAN,GAAaA,CAAb,GAAe,WAAf,IAA4BA,CAAC,GAAC,CAA9B,IAAiC,MAAzC;AACD,OAFD,MAEO;AACLF,QAAAA,EAAE,CAACG,IAAH,CAAQ,aAAWD,CAAX,GAAa,WAAb,IAA0BA,CAAC,GAAC,CAA5B,IAA+B,MAAvC;AACD;AACF;;AACD,QAAID,CAAC,GAAG,CAAR,EAAWD,EAAE,CAACG,IAAH,CAAQ,EAAR;AACZ;;AAEDH,EAAAA,EAAE,GAAG,CACH,2BAAyBF,MAAzB,GAAgC,YAD7B,EAEDE,EAAE,CAACI,GAAH,CAAO,UAASC,CAAT,EAAY;AAAE,WAAO,OAAOA,CAAd;AAAiB,GAAtC,EAAwCC,IAAxC,CAA6C,IAA7C,CAFC,EAGD,GAHC,EAIHA,IAJG,CAIE,IAJF,CAAL;AAMA,SAAOC,QAAQ,CAACP,EAAD,CAAR,EAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAASb,OAAT,CAAiBQ,GAAjB,EAAsB;AACpB,SAAOA,GAAG,CAAC,CAAD,CAAV;AACD;;AAED,SAASP,OAAT,CAAiBO,GAAjB,EAAsBC,CAAtB,EAAyB;AACvB,SAAOD,GAAG,CAAC,CAAD,CAAH,GAAS,CAACA,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,IAAoBC,CAApC;AACD;;AAED,SAASP,OAAT,CAAiBM,GAAjB,EAAsBC,CAAtB,EAAyB;AACvB,MAAIY,EAAE,GAAG,IAAIZ,CAAb;AACA,SAAO,CAACD,GAAG,CAAC,CAAD,CAAH,GAASa,EAAT,GAAcb,GAAG,CAAC,CAAD,CAAH,GAASC,CAAxB,IAA6BY,EAA7B,GAAkC,CAACb,GAAG,CAAC,CAAD,CAAH,GAASa,EAAT,GAAcb,GAAG,CAAC,CAAD,CAAH,GAASC,CAAxB,IAA6BA,CAAtE;AACD;;AAED,SAASN,OAAT,CAAiBK,GAAjB,EAAsBC,CAAtB,EAAyB;AACvB,MAAIY,EAAE,GAAG,IAAIZ,CAAb;AACA,MAAIa,EAAE,GAAGd,GAAG,CAAC,CAAD,CAAH,GAASa,EAAT,GAAcb,GAAG,CAAC,CAAD,CAAH,GAASC,CAAhC;AACA,SAAO,CAAC,CAACD,GAAG,CAAC,CAAD,CAAH,GAASa,EAAT,GAAcb,GAAG,CAAC,CAAD,CAAH,GAASC,CAAxB,IAA6BY,EAA7B,GAAkCC,EAAE,GAAGb,CAAxC,IAA6CY,EAA7C,GAAkD,CAACC,EAAE,GAAGD,EAAL,GAAU,CAACb,GAAG,CAAC,CAAD,CAAH,GAASa,EAAT,GAAcb,GAAG,CAAC,CAAD,CAAH,GAASC,CAAxB,IAA6BA,CAAxC,IAA6CA,CAAtG;AACD","sourcesContent":["var cache = {\n    '1': bezier1\n  , '2': bezier2\n  , '3': bezier3\n  , '4': bezier4\n}\n\nmodule.exports = neat\nmodule.exports.prepare = prepare\n\nfunction neat(arr, t) {\n  return prepare(arr.length)(arr, t)\n}\n\nfunction prepare(pieces) {\n  pieces = +pieces|0\n  if (!pieces) throw new Error('Cannot create a interpolator with no elements')\n  if (cache[pieces]) return cache[pieces]\n\n  var fn = ['var ut = 1 - t', '']\n\n  var n = pieces\n  while (n--) {\n    for (var j = 0; j < n; j += 1) {\n      if (n+1 === pieces) {\n        fn.push('var p'+j+' = arr['+j+'] * ut + arr['+(j+1)+'] * t')\n      } else\n      if (n > 1) {\n        fn.push('p'+j+' = p'+j+' * ut + p'+(j+1)+' * t')\n      } else {\n        fn.push('return p'+j+' * ut + p'+(j+1)+' * t')\n      }\n    }\n    if (n > 1) fn.push('')\n  }\n\n  fn = [\n    'return function bezier'+pieces+'(arr, t) {'\n    , fn.map(function(s) { return '  ' + s }).join('\\n')\n    , '}'\n  ].join('\\n')\n\n  return Function(fn)()\n}\n\n//\n// Including the first four degrees\n// manually - there's a slight performance penalty\n// to generated code. It's outweighed by\n// the gains of the optimisations, but always\n// helps to cover the most common cases :)\n//\n\nfunction bezier1(arr) {\n  return arr[0]\n}\n\nfunction bezier2(arr, t) {\n  return arr[0] + (arr[1] - arr[0]) * t\n}\n\nfunction bezier3(arr, t) {\n  var ut = 1 - t\n  return (arr[0] * ut + arr[1] * t) * ut + (arr[1] * ut + arr[2] * t) * t\n}\n\nfunction bezier4(arr, t) {\n  var ut = 1 - t\n  var a1 = arr[1] * ut + arr[2] * t\n  return ((arr[0] * ut + arr[1] * t) * ut + a1 * t) * ut + (a1 * ut + (arr[2] * ut + arr[3] * t) * t) * t\n}\n"]},"metadata":{},"sourceType":"script"}